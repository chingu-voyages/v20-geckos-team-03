{"ast":null,"code":"var _jsxFileName = \"/Users/yusukeyoshino/Desktop/React/chingu/src/components/ProductPage/ProductPage.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { getData } from \"../contentful\";\nimport classes from \"./ProductPage.module.css\";\nimport Layout from \"../Layout\";\nimport { useDispatch } from \"react-redux\";\nimport { incrementInCart } from \"../../redux/action\";\n\nconst ProductPage = props => {\n  const [doughnutsLists, setDoughnutsLists] = useState(null);\n  const [activeClass, setActiveClass] = useState(false);\n  const dispatch = useDispatch();\n  const productID = parseInt(props.match.params.id);\n  let spanClass = activeClass ? `${classes.added} ${classes.active}` : `${classes.added}`;\n  useEffect(() => {\n    getData().then(response => {\n      setDoughnutsLists(response);\n    });\n  }, []);\n\n  const addItemHandler = e => {\n    e.preventDefault();\n    const qty = parseInt(e.target.qty.value);\n    dispatch(incrementInCart(productID, qty));\n    setActiveClass(true);\n    setTimeout(() => {\n      setActiveClass(false);\n    }, 1500);\n  };\n\n  const renderProduct = () => {\n    if (doughnutsLists) {\n      const selectedDoughnut = doughnutsLists.find(doughnut => {\n        return doughnut.id === productID;\n      });\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.Main,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.Product_img,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: `https://${selectedDoughnut.img}`,\n        alt: \"doughnut_image\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.Product_Description,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        className: classes.Product_Title,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }\n      }, selectedDoughnut.name), /*#__PURE__*/React.createElement(\"h3\", {\n        className: classes.Product_Price,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }\n      }, selectedDoughnut.price, \" $\"), /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }\n      }, selectedDoughnut.description), /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: addItemHandler,\n        className: classes.Product_Button,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 15\n        }\n      }, \"QTY:\"), /*#__PURE__*/React.createElement(\"input\", {\n        className: classes.Input,\n        name: \"qty\",\n        type: \"number\",\n        min: \"1\",\n        defaultValue: \"1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        className: classes.add_btn,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 15\n        }\n      }, \" \", /*#__PURE__*/React.createElement(\"span\", {\n        className: spanClass,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }\n      }, \"ADDED!\"), \"ADD TO CART\"))));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 14\n        }\n      }, \"Loading...\");\n    }\n  };\n\n  const renderOtherProducts = () => {\n    if (doughnutsLists) {\n      return doughnutsLists.map(doughnut => {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: classes.Others_Product,\n          key: doughnut.id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: doughnut.img,\n          alt: \"product\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }\n        }), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }\n        }, doughnut.name), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }\n        }, doughnut.price));\n      });\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 14\n        }\n      }, \"Loading...\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.Product_page,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, renderProduct()), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      fontSize: \"30px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, \"OTHER PRODUCTS\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.Others,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }, renderOtherProducts()));\n};\n\nexport default ProductPage;","map":{"version":3,"sources":["/Users/yusukeyoshino/Desktop/React/chingu/src/components/ProductPage/ProductPage.js"],"names":["React","useEffect","useState","getData","classes","Layout","useDispatch","incrementInCart","ProductPage","props","doughnutsLists","setDoughnutsLists","activeClass","setActiveClass","dispatch","productID","parseInt","match","params","id","spanClass","added","active","then","response","addItemHandler","e","preventDefault","qty","target","value","setTimeout","renderProduct","selectedDoughnut","find","doughnut","Main","Product_img","img","Product_Description","Product_Title","name","Product_Price","price","description","Product_Button","Input","add_btn","renderOtherProducts","map","Others_Product","Product_page","fontSize","Others"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { getData } from \"../contentful\";\nimport classes from \"./ProductPage.module.css\";\nimport Layout from \"../Layout\";\nimport { useDispatch } from \"react-redux\";\nimport { incrementInCart } from \"../../redux/action\";\n\nconst ProductPage = (props) => {\n  const [doughnutsLists, setDoughnutsLists] = useState(null);\n  const [activeClass, setActiveClass] = useState(false);\n  const dispatch = useDispatch();\n  const productID = parseInt(props.match.params.id);\n\n  let spanClass = activeClass\n    ? `${classes.added} ${classes.active}`\n    : `${classes.added}`;\n\n  useEffect(() => {\n    getData().then((response) => {\n      setDoughnutsLists(response);\n    });\n  }, []);\n\n  const addItemHandler = (e) => {\n    e.preventDefault();\n    const qty = parseInt(e.target.qty.value);\n    dispatch(incrementInCart(productID, qty));\n    setActiveClass(true);\n    setTimeout(() => {\n      setActiveClass(false);\n    }, 1500);\n  };\n\n  const renderProduct = () => {\n    if (doughnutsLists) {\n      const selectedDoughnut = doughnutsLists.find((doughnut) => {\n        return doughnut.id === productID;\n      });\n\n      return (\n        <div className={classes.Main}>\n          <div className={classes.Product_img}>\n            <img src={`https://${selectedDoughnut.img}`} alt=\"doughnut_image\" />\n          </div>\n          <div className={classes.Product_Description}>\n            <h2 className={classes.Product_Title}>{selectedDoughnut.name}</h2>\n            <h3 className={classes.Product_Price}>\n              {selectedDoughnut.price} $\n            </h3>\n            <h4>{selectedDoughnut.description}</h4>\n            <form onSubmit={addItemHandler} className={classes.Product_Button}>\n              <label>QTY:</label>\n              <input\n                className={classes.Input}\n                name=\"qty\"\n                type=\"number\"\n                min=\"1\"\n                defaultValue=\"1\"\n              />\n\n              <button className={classes.add_btn}>\n                {\" \"}\n                <span className={spanClass}>ADDED!</span>ADD TO CART\n              </button>\n            </form>\n          </div>\n        </div>\n      );\n    } else {\n      return <div>Loading...</div>;\n    }\n  };\n\n  const renderOtherProducts = () => {\n    if (doughnutsLists) {\n      return doughnutsLists.map((doughnut) => {\n        return (\n          <div className={classes.Others_Product} key={doughnut.id}>\n            <img src={doughnut.img} alt={\"product\"}></img>\n            <p>{doughnut.name}</p>\n            <p>{doughnut.price}</p>\n          </div>\n        );\n      });\n    } else {\n      return <div>Loading...</div>;\n    }\n  };\n\n  return (\n    <Layout>\n      <div className={classes.Product_page}>{renderProduct()}</div>\n      <div style={{ fontSize: \"30px\" }}>OTHER PRODUCTS</div>\n      <div className={classes.Others}>{renderOtherProducts()}</div>\n    </Layout>\n  );\n};\n\nexport default ProductPage;\n"]},"metadata":{},"sourceType":"module"}